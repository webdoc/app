

The webdoc app API


Methods



.ready(fn)

The app API loads in two stages. Functions passed into .ready() will be fired as soon as the full app API is ready to use. If the app API is already ready, the passed function will fire immediately.

Note that this does not mean that the DOM is ready.



.bind(type, function)

Bind a handler function to be called whenever an event of type is emitted by webdoc. For a full list of events, see webdoc events.



.unbind(type [, function])

Unbind a handler function from events of this type. Where more than one instance of the given handler function is bound to the event, they are all removed.

If no function is provided, all handler functions are unbound from this event.



.insertImage(url, [position])

Inserts an image into the webdoc. URL is the path to the image to be inserted.

If an optional position object is passed the image will be inserted at that position, otherwise the position will be calculated automatically. A position object should look like this:

{
  top: n,
  left: m
}

...where values for n and m are distances in pixels.



.insertItem(url, [position])

Inserts an item into the webdoc. The type of item is determined by the resource that the URL points to. If it is a YouTube link, the item will be a video. If it is an image, the item will be an image.

Webdoc accepts various item types:

Image
Video
Googlemap

If an optional position object is passed the image will be inserted at that position, otherwise the position will be calculated automatically.



.insertWidget(name, preferences, [position])

Inserts a widget into a webdoc, where name is the widget's name and preferences is key value object of options to pass to the widget.

If an optional position object is passed the image will be inserted at that position, otherwise the position will be calculated automatically.




Webdoc events



ready
The ready event fires when the full webdoc app API is available.

See also the .ready() method, which will call callbacks immediately if the app has already entered ready state.



selectionchange
Triggered when the selected items in the webdoc change. Handler functions are passed one argument: an array of currently selected items. If the selection has changed so that nothing is selected, the array will be empty.